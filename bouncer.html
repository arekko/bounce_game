<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>PhaserGameFinal</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.1.1/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">
    var config = {
    type: Phaser.AUTO,
    width: 900,
    height: 600,
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 500 },
            debug: false
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};
    var game = new Phaser.Game(config);
    function preload () {
        this.load.image('ground', './assets/groundblock.png')
        this.load.image("background", "./assets/background.png");
        this.load.image("orb", "./assets/ball.png");   
    }
    function create () {
      
        this.background = this.add.image(400, 300, "background");
        this.ground = this.add.group();
        this.ground.createMultiple({ key: 'ground', repeat: 30 });



        Phaser.Actions.SetXY(this.ground.getChildren(), 25, 575, 32);
        this.orb = this.physics.add.image(400, 300, "orb").setActive().setVelocity(0, 0).setBounce(0);
        //this.orb = Phaser.Physics.Matter.Matter.Query.point(this.matter.world.localWorld.bodies, pointer);
        this.orb.setScale(0.9);
        
        this.orb.setGravityY(100);
        //this.orb.setGravityX(1);
        this.orb.setBounce(0.5);
        this.orb.setCollideWorldBounds(true);

        this.physics.add.collider(this.orb, this.ground);


        this.orb.setCollisionGroup(ground);
        this.physics.add.collider(group, orb);
        cursors = this.input.keyboard.createCursorKeys();
        
    }

    function update () {
           
        if (cursors.left.isDown)
        {
            this.orb.setVelocityX(-160);

        }
        else if (cursors.right.isDown)
        {
            this.orb.setVelocityX(160);

        }
        else
        {
            this.orb.setVelocityX(0);

        }

        if (cursors.up.isDown )
        {
            this.orb.setVelocityY(-200);
        }
       
    }
</script>

</body>
</html>
